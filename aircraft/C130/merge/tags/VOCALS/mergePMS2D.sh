#!/bin/sh

#remove A1DC_RPC, C1DC_RPC, A1DC_RPI and C1DC_RPI (the old size spectra)
#by renaming them to variables that will be overwritten in the merge
for file in `ls -1 VOCALSrf[0-9][0-9].nc`
do
    ncrename -v A1DC_RPC,A1DCR_RPC $file
    ncrename -v C1DC_RPC,C1DCR_RPC $file
    ncrename -v A1DC_RPI,A1DCA_RPC $file
    ncrename -v C1DC_RPI,C1DCA_RPC $file
done


#rf01
ncmerge -v A1DCR_RPC,C1DCR_RPC,A1DCA_RPC,C1DCA_RPC,DBAR1DCR_RPC,PLWC1DCR_RPC,CONC1DCR_RPC,DBAR1DCA_RPC,PLWC1DCA_RPC,CONC1DCA_RPC VOCALSrf01.nc PMS2D/V5_20090606/10152008_164800_F2DC_C4.nc
ncmerge -v A1DCR_RPI,C1DCR_RPI,A1DCA_RPI,C1DCA_RPI,DBAR1DCR_RPI,PLWC1DCR_RPI,CONC1DCR_RPI,DBAR1DCA_RPI,PLWC1DCA_RPI,CONC1DCA_RPI VOCALSrf01.nc PMS2D/V5_20090606/10152008b_164800_F2DC_C6.nc

#rf02
ncmerge -v A1DCR_RPC,C1DCR_RPC,A1DCA_RPC,C1DCA_RPC,DBAR1DCR_RPC,PLWC1DCR_RPC,CONC1DCR_RPC,DBAR1DCA_RPC,PLWC1DCA_RPC,CONC1DCA_RPC VOCALSrf02.nc PMS2D/V5_20090606/10182008_130300_F2DC_C4.nc
ncmerge -v A1DCR_RPI,C1DCR_RPI,A1DCA_RPI,C1DCA_RPI,DBAR1DCR_RPI,PLWC1DCR_RPI,CONC1DCR_RPI,DBAR1DCA_RPI,PLWC1DCA_RPI,CONC1DCA_RPI VOCALSrf02.nc PMS2D/V5_20090606/10182008b_130300_F2DC_C6.nc

#rf03
ncmerge -v A1DCR_RPC,C1DCR_RPC,A1DCA_RPC,C1DCA_RPC,DBAR1DCR_RPC,PLWC1DCR_RPC,CONC1DCR_RPC,DBAR1DCA_RPC,PLWC1DCA_RPC,CONC1DCA_RPC VOCALSrf03.nc PMS2D/V5_20090606/10212008_60000_F2DC_C4.nc
ncmerge -v A1DCR_RPI,C1DCR_RPI,A1DCA_RPI,C1DCA_RPI,DBAR1DCR_RPI,PLWC1DCR_RPI,CONC1DCR_RPI,DBAR1DCA_RPI,PLWC1DCA_RPI,CONC1DCA_RPI VOCALSrf03.nc PMS2D/V5_20090606/10212008b_60000_F2DC_C6.nc

#rf04
ncmerge -v A1DCR_RPC,C1DCR_RPC,A1DCA_RPC,C1DCA_RPC,DBAR1DCR_RPC,PLWC1DCR_RPC,CONC1DCR_RPC,DBAR1DCA_RPC,PLWC1DCA_RPC,CONC1DCA_RPC VOCALSrf04.nc PMS2D/V5_20090606/10232008_55800_F2DC_C4.nc
ncmerge -v A1DCR_RPI,C1DCR_RPI,A1DCA_RPI,C1DCA_RPI,DBAR1DCR_RPI,PLWC1DCR_RPI,CONC1DCR_RPI,DBAR1DCA_RPI,PLWC1DCA_RPI,CONC1DCA_RPI VOCALSrf04.nc PMS2D/V5_20090606/10232008b_55800_F2DC_C6.nc

#rf05
ncmerge -v A1DCR_RPC,C1DCR_RPC,A1DCA_RPC,C1DCA_RPC,DBAR1DCR_RPC,PLWC1DCR_RPC,CONC1DCR_RPC,DBAR1DCA_RPC,PLWC1DCA_RPC,CONC1DCA_RPC VOCALSrf05.nc PMS2D/V5_20090606/10252008_62900_F2DC_C4.nc
ncmerge -v A1DCR_RPI,C1DCR_RPI,A1DCA_RPI,C1DCA_RPI,DBAR1DCR_RPI,PLWC1DCR_RPI,CONC1DCR_RPI,DBAR1DCA_RPI,PLWC1DCA_RPI,CONC1DCA_RPI VOCALSrf05.nc PMS2D/V5_20090606/10252008b_62900_F2DC_C6.nc

#############
# Where b (C6) file doesn't exist, create empty vars so header remains the same.
#############

#rf06
ncmerge -v A1DCR_RPC,C1DCR_RPC,A1DCA_RPC,C1DCA_RPC,DBAR1DCR_RPC,PLWC1DCR_RPC,CONC1DCR_RPC,DBAR1DCA_RPC,PLWC1DCA_RPC,CONC1DCA_RPC VOCALSrf06.nc PMS2D/V5_20090606/10282008_61800_F2DC_C4.nc
/net/work/dev/jag/ncfillvar/ncfillvar -v A1DCR_RPI,C1DCR_RPI,A1DCA_RPI,C1DCA_RPI,DBAR1DCR_RPI,PLWC1DCR_RPI,CONC1DCR_RPI,DBAR1DCA_RPI,PLWC1DCA_RPI,CONC1DCA_RPI VOCALSrf06.nc

#rf07
ncmerge -v A1DCR_RPC,C1DCR_RPC,A1DCA_RPC,C1DCA_RPC,DBAR1DCR_RPC,PLWC1DCR_RPC,CONC1DCR_RPC,DBAR1DCA_RPC,PLWC1DCA_RPC,CONC1DCA_RPC VOCALSrf07.nc PMS2D/V5_20090606/10312008_60000_F2DC_C4.nc
/net/work/dev/jag/ncfillvar/ncfillvar -v A1DCR_RPI,C1DCR_RPI,A1DCA_RPI,C1DCA_RPI,DBAR1DCR_RPI,PLWC1DCR_RPI,CONC1DCR_RPI,DBAR1DCA_RPI,PLWC1DCA_RPI,CONC1DCA_RPI VOCALSrf07.nc

#rf08
ncmerge -v A1DCR_RPC,C1DCR_RPC,A1DCA_RPC,C1DCA_RPC,DBAR1DCR_RPC,PLWC1DCR_RPC,CONC1DCR_RPC,DBAR1DCA_RPC,PLWC1DCA_RPC,CONC1DCA_RPC VOCALSrf08.nc PMS2D/V5_20090606/11022008_55700_F2DC_C4.nc
/net/work/dev/jag/ncfillvar/ncfillvar -v A1DCR_RPI,C1DCR_RPI,A1DCA_RPI,C1DCA_RPI,DBAR1DCR_RPI,PLWC1DCR_RPI,CONC1DCR_RPI,DBAR1DCA_RPI,PLWC1DCA_RPI,CONC1DCA_RPI VOCALSrf08.nc

#rf09
ncmerge -v A1DCR_RPC,C1DCR_RPC,A1DCA_RPC,C1DCA_RPC,DBAR1DCR_RPC,PLWC1DCR_RPC,CONC1DCR_RPC,DBAR1DCA_RPC,PLWC1DCA_RPC,CONC1DCA_RPC VOCALSrf09.nc PMS2D/V5_20090606/11042008_60000_F2DC_C4.nc
/net/work/dev/jag/ncfillvar/ncfillvar -v A1DCR_RPI,C1DCR_RPI,A1DCA_RPI,C1DCA_RPI,DBAR1DCR_RPI,PLWC1DCR_RPI,CONC1DCR_RPI,DBAR1DCA_RPI,PLWC1DCA_RPI,CONC1DCA_RPI VOCALSrf09.nc

#rf10
ncmerge -v A1DCR_RPC,C1DCR_RPC,A1DCA_RPC,C1DCA_RPC,DBAR1DCR_RPC,PLWC1DCR_RPC,CONC1DCR_RPC,DBAR1DCA_RPC,PLWC1DCA_RPC,CONC1DCA_RPC VOCALSrf10.nc PMS2D/V5_20090606/11062008_72154_F2DC_C4.nc
/net/work/dev/jag/ncfillvar/ncfillvar -v A1DCR_RPI,C1DCR_RPI,A1DCA_RPI,C1DCA_RPI,DBAR1DCR_RPI,PLWC1DCR_RPI,CONC1DCR_RPI,DBAR1DCA_RPI,PLWC1DCA_RPI,CONC1DCA_RPI VOCALSrf10.nc

#rf11
ncmerge -v A1DCR_RPC,C1DCR_RPC,A1DCA_RPC,C1DCA_RPC,DBAR1DCR_RPC,PLWC1DCR_RPC,CONC1DCR_RPC,DBAR1DCA_RPC,PLWC1DCA_RPC,CONC1DCA_RPC VOCALSrf11.nc PMS2D/V5_20090606/11092008_125700_F2DC_C4.nc
/net/work/dev/jag/ncfillvar/ncfillvar -v A1DCR_RPI,C1DCR_RPI,A1DCA_RPI,C1DCA_RPI,DBAR1DCR_RPI,PLWC1DCR_RPI,CONC1DCR_RPI,DBAR1DCA_RPI,PLWC1DCA_RPI,CONC1DCA_RPI VOCALSrf11.nc

#rf12
ncmerge -v A1DCR_RPC,C1DCR_RPC,A1DCA_RPC,C1DCA_RPC,DBAR1DCR_RPC,PLWC1DCR_RPC,CONC1DCR_RPC,DBAR1DCA_RPC,PLWC1DCA_RPC,CONC1DCA_RPC VOCALSrf12.nc PMS2D/V5_20090606/11112008_125000_F2DC_C4.nc
/net/work/dev/jag/ncfillvar/ncfillvar -v A1DCR_RPI,C1DCR_RPI,A1DCA_RPI,C1DCA_RPI,DBAR1DCR_RPI,PLWC1DCR_RPI,CONC1DCR_RPI,DBAR1DCA_RPI,PLWC1DCA_RPI,CONC1DCA_RPI VOCALSrf12.nc

#rf13
ncmerge -v A1DCR_RPC,C1DCR_RPC,A1DCA_RPC,C1DCA_RPC,DBAR1DCR_RPC,PLWC1DCR_RPC,CONC1DCR_RPC,DBAR1DCA_RPC,PLWC1DCA_RPC,CONC1DCA_RPC VOCALSrf13.nc PMS2D/V5_20090606/11132008_125700_F2DC_C4.nc
/net/work/dev/jag/ncfillvar/ncfillvar -v A1DCR_RPI,C1DCR_RPI,A1DCA_RPI,C1DCA_RPI,DBAR1DCR_RPI,PLWC1DCR_RPI,CONC1DCR_RPI,DBAR1DCA_RPI,PLWC1DCA_RPI,CONC1DCA_RPI VOCALSrf13.nc

#rf14
ncmerge -v A1DCR_RPC,C1DCR_RPC,A1DCA_RPC,C1DCA_RPC,DBAR1DCR_RPC,PLWC1DCR_RPC,CONC1DCR_RPC,DBAR1DCA_RPC,PLWC1DCA_RPC,CONC1DCA_RPC VOCALSrf14.nc PMS2D/V5_20090606/11152008_125800_F2DC_C4.nc
/net/work/dev/jag/ncfillvar/ncfillvar -v A1DCR_RPI,C1DCR_RPI,A1DCA_RPI,C1DCA_RPI,DBAR1DCR_RPI,PLWC1DCR_RPI,CONC1DCR_RPI,DBAR1DCA_RPI,PLWC1DCA_RPI,CONC1DCA_RPI VOCALSrf14.nc
